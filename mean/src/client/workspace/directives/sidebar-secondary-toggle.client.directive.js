(function() {
  'use strict';

  angular
    .module('workspace')
    .directive('sidebarSecondaryToggle', [
      '$rootScope',
      '$window',
      '$timeout',
      function($rootScope, $window, $timeout) {
        return {
          restrict: 'E',
          replace: true,
          template: '<a href="#" id="sSwitch_secondary" class="sSwitch sSwitch_right" ng-show="sidebar_secondary" ng-click="toggleSecondarySidebar($event)"><span class="sSwitchIcon"></span></a>',
          link: function(scope, el, attrs) {
            scope.toggleSecondarySidebar = function($event) {
              $event.preventDefault();
              $rootScope.secondarySidebarActive = !$rootScope.secondarySidebarActive;
            };
          }
        };
      }
    ]);
}());
