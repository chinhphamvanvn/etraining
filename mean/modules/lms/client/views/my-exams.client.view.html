<div id="page_content">
  <div id="page_content_inner">
    <h3 class="heading_b uk-margin-bottom">{{'PAGE.LMS.MY_EXAMS.TITLE' | translate}}</h3>
    <div class="uk-grid blog_article" data-uk-grid-margin>
      <div class="uk-width-1-1">
        <div ng-repeat="candidate in vm.candidates" class="uk-margin">

          <div ng-if="candidate.role=='teacher'" class="md-card md-card-hover">
            <div class="md-card-toolbar">
              <h3 class="md-card-toolbar-heading-text">
                <a class="md-btn md-btn-flat md-btn-flat-primary md-btn-icon"
                   ui-sref="workspace.lms.exams.edit({examId:candidate.exam._id,scheduleId:candidate.schedule._id})">
                  <i class="uk-icon-book"></i>
                  {{'PAGE.LMS.MY_EXAMS.CONTENT'|translate}}
                </a>
                <a class="md-btn md-btn-flat md-btn-flat-primary md-btn-icon"
                   ui-sref="workspace.lms.exams.grade({examId:candidate.exam._id,scheduleId:candidate.schedule._id})">
                  <i class="uk-icon-star-half-o"></i>
                  {{'PAGE.LMS.MY_EXAMS.GRADE_SCHEME'|translate}}
                </a>
                <a class="md-btn md-btn-flat md-btn-flat-primary md-btn-icon"
                   ui-sref="workspace.lms.exams.scoreboard({examId:candidate.exam._id,scheduleId:candidate.schedule._id})">
                  <i class="uk-icon-hand-pointer-o"></i>
                  {{'ACTION.VIEW_SCORE'|translate}}
                </a>
              </h3>
            </div>

            <div class="md-card-content my-exam-content">
              <div class="uk-grid">
                <div class="uk-width-1-1">
                  <div class="uk-article">
                    <h3 class="uk-article-title uk-text-primary title">{{candidate.schedule.name}} </h3>

                    <div class="uk-article-meta uk-margin-bottom duration">
                      <span class="uk-margin-right uk-article-meta">{{'MODEL.SCHEDULE.START_DATE'|translate}} : {{candidate.schedule.start | date:'dd/MM/yyyy'}}</span>
                      <span class="uk-margin-right uk-article-meta">{{'MODEL.SCHEDULE.END_DATE'|translate}} : {{candidate.schedule.end | date:'dd/MM/yyyy'}}</span>
                    </div>

                    <div class="uk-accordion" data-uk-accordion="{showfirst: false}">
                      <h3 class="uk-accordion-title">{{'MODEL.EXAM.DESCRIPTION'|translate}}</h3>
                      <div class="uk-accordion-content">
                        <p class="description" ng-bind-html="candidate.exam.description"></p>
                      </div>
                      <h3 class="uk-accordion-title">{{'MODEL.EXAM.INSTRUCTION'|translate}}</h3>
                      <div class="uk-accordion-content">
                        <p class="instruction" ng-bind-html="candidate.exam.instruction"></p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div ng-if="candidate.role=='student'" class="md-card md-card-hover" card-progress="{{candidate.percentage}}">

            <div class="md-card-toolbar md-bg-light-green-100 my-exam-toolbar">
              <h3 class="md-card-toolbar-heading-text">
                <a class="md-btn md-btn-flat md-btn-flat-primary md-btn-icon"
                   ng-click="vm.study(candidate)">
                  <i class="uk-icon-hand-pointer-o uk-hidden-small"></i>
                  {{'ACTION.JOIN'|translate}}
                </a>
                <a class="md-btn md-btn-flat md-btn-flat-primary md-btn-icon"
                   ui-sref="workspace.lms.exams.score({candidateId:candidate._id,examId:candidate.exam._id,scheduleId:candidate.schedule._id})">
                  <i class="uk-icon-eye uk-hidden-small"></i>
                  {{'ACTION.VIEW_SCORE'|translate}}
                </a>

                <span class="attempt-count">{{'PAGE.LMS.MY_EXAMS.PROGRESS'|translate}}: {{ candidate.attemptCount }}/{{ candidate.exam.maxAttempt
                }}</span>
              </h3>
            </div>

            <div class="md-card-content my-exam-content">
              <div class="uk-grid">
                <div class="uk-width-1-1">
                  <div class="uk-article">
                    <h3 class="uk-article-title uk-text-primary title">{{candidate.schedule.name}}</h3>

                    <p class="uk-article-meta duration">
                      <span class="uk-margin-right uk-article-meta">{{'MODEL.SCHEDULE.START_DATE'|translate}} : {{candidate.schedule.start | date:'dd/MM/yyyy'}}</span>
                      <span class="uk-margin-right uk-article-meta">{{'MODEL.SCHEDULE.END_DATE'|translate}} : {{candidate.schedule.end | date:'dd/MM/yyyy'}}</span>
                    </p>

                    <div class="uk-accordion" data-uk-accordion="{showfirst: false}">
                      <h3 class="uk-accordion-title">{{'MODEL.EXAM.DESCRIPTION'|translate}}</h3>
                      <div class="uk-accordion-content">
                        <p ng-bind-html="candidate.exam.description"></p>
                      </div>
                      <h3 class="uk-accordion-title">{{'MODEL.EXAM.INSTRUCTION'|translate}}</h3>
                      <div class="uk-accordion-content">
                        <p ng-bind-html="candidate.exam.instruction"></p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>
